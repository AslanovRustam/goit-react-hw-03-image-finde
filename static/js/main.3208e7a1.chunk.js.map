{"version":3,"sources":["Modal/modal.module.css","ImageGallery/imagegallery.module.css","Button/button.module.css","Searchbar/Searchbar.js","error.jpg","ImagesErrorView/ImagesErrorView.js","Modal/Modal.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/Imagegallery.js","ImagesApi.js","Button/Button.js","Loader/Loader.js","ImagesInfo/ImagesInfo.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","state","image","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmitForm","toast","className","onSubmit","this","type","name","onChange","autocomplete","autofocus","placeholder","Component","ImagesErrorView","src","error","alt","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","console","log","window","addEventListener","removeEventListener","createPortal","s","Overlay","onClick","largeImage","ImageGalleryItem","showModal","toggleModal","largeImageUrl","ImageGallery","images","map","webformatURL","tags","largeImageURL","id","api","fetchImages","page","fetch","then","response","ok","json","Promise","reject","Error","Button","scrollPageOnBtnMore","scroll","scrollToBottom","ImagePendingView","color","height","width","ImagesInfo","status","onClickLoadMoreBtn","prevState","prevProps","prevImg","imgItem","nextImg","prevPage","nextPage","Api","catch","hits","App","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3208e7a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1tWBx\",\"largeImage\":\"modal_largeImage__Bs-AV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imagegallery_ImageGallery__ZhciX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__coi8d\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    image: '',\r\n  };\r\n  //получение значения input\r\n  handleNameChange = event => {\r\n    this.setState({ image: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  //отправка значения из формы\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.image.trim() === '') {\r\n      toast('Please enter the query !');\r\n      return;\r\n    }\r\n    // this.props.onSubmit - вызывает props из App под именем onSubmit\r\n    this.props.onSubmitForm(this.state.image);\r\n    this.setState({ image: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            name=\"imageName\"\r\n            value={this.state.image}\r\n            onChange={this.handleNameChange}\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","export default __webpack_public_path__ + \"static/media/error.db3241d5.jpg\";","import error from '../error.jpg';\r\n\r\nexport default function ImagesErrorView() {\r\n  return (\r\n    <div>\r\n      <img src={error} alt=\"error\">\r\n        No such image finded...\r\n      </img>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from '../Modal/modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    console.log('Modal componentWillUnmount');\r\n\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img className={s.largeImage} src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport Modal from '../Modal/Modal';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    const { src, alt, largeImageUrl } = this.props;\r\n\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={src}\r\n          alt={alt}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={this.toggleModal}\r\n        />\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal} src={largeImageUrl} alt={alt} />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n// export default function ImageGalleryItem({\r\n//   image: { id, webformatURL, largeImageURL },\r\n// }) {\r\n//   return (\r\n//     <li className=\"ImageGalleryItem\">\r\n//       <img\r\n//         src={this.props.webformatURL}\r\n//         alt=\"\"\r\n//         className=\"ImageGalleryItem-image\"\r\n//       />\r\n//     </li>\r\n//   );\r\n// }\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from '../ImageGallery/imagegallery.module.css';\r\n\r\nfunction ImageGallery({ images }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          src={image.webformatURL}\r\n          alt={image.tags}\r\n          largeImageUrl={image.largeImageURL}\r\n          key={image.id}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","function fetchImages(name, page) {\r\n  const KEY = '19076419-9578a5b9e86945eec97e7243e';\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error('Error'));\r\n  });\r\n}\r\n\r\nconst api = { fetchImages };\r\n\r\nexport default api;\r\n","import { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport s from '../Button/button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Button extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  scrollPageOnBtnMore = () => {\r\n    this.props.onClick();\r\n    scroll.scrollToBottom();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        onClick={this.scrollPageOnBtnMore}\r\n        className={s.Button}\r\n        type=\"button\"\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default function ImagePendingView() {\r\n  return <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImagesErrorView from \"../ImagesErrorView/ImagesErrorView\";\r\nimport ImageGallery from \"../ImageGallery/Imagegallery\";\r\nimport Api from \"../ImagesApi\";\r\nimport Button from \"../Button/Button\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport s from \"../ImagesInfo/image.modal.css\";\r\n\r\nexport default class ImagesInfo extends Component {\r\n  state = {\r\n    images: [],\r\n    status: \"idle\",\r\n    error: null,\r\n    page: 1,\r\n  };\r\n\r\n  static propTypes = {\r\n    imgItem: PropTypes.string,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevImg = prevProps.imgItem;\r\n    const nextImg = this.props.imgItem;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n    console.log(nextPage);\r\n\r\n    if (prevImg !== nextImg) {\r\n      this.setState({ page: 1 });\r\n    }\r\n\r\n    if (prevImg !== nextImg || prevPage !== nextPage) {\r\n      this.setState({ status: \"pending\" });\r\n\r\n      Api.fetchImages(nextImg, nextPage)\r\n        .then((images) => this.setState({ images, status: \"resolved\" }))\r\n        // .then({images, page} => this.setState({ images, status: 'resolved' }))\r\n        // .then(newImages => {\r\n        //   if (newImages.total !== 0) {\r\n        //     this.setState(prevState => ({\r\n        //       images: [...prevState.images, ...newImages.hits],\r\n        //       status: 'resolved',\r\n        //     }));\r\n        //     return;\r\n        //   }\r\n        // })\r\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n    }\r\n  }\r\n\r\n  onClickLoadMoreBtn = () => {\r\n    // console.log('больше');\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n  // fetch(\r\n  //   `https://pixabay.com/api/?q=${this.props.imageName}&page=1&key=19076419-9578a5b9e86945eec97e7243e&image_type=photo&orientation=horizontal&per_page=12`,\r\n  // )\r\n  //   .then(res => res.json())\r\n  //   .then(imageName => this.setState({ imageName, status: 'resolved' }))\r\n  //   .catch(error => this.setState({ error, status: 'rejected' }));\r\n\r\n  render() {\r\n    const { error, status, images } = this.state;\r\n    if (status === \"idle\") {\r\n      return <p>Please, enter the search query</p>;\r\n    }\r\n    if (status === \"pending\") {\r\n      return <Loader />;\r\n    }\r\n    if (status === \"rejected\") {\r\n      return <ImagesErrorView />;\r\n    }\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <>\r\n          <ImageGallery images={images.hits} />\r\n          <Button onClick={this.onClickLoadMoreBtn} />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport './index.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImagesInfo from './ImagesInfo/ImagesInfo';\n// import ImageGallery from './ImageGallery/Imagegallery';\n\nexport default class App extends Component {\n  state = {\n    image: '',\n  };\n  handleFormSubmit = image => {\n    this.setState({ image });\n  };\n  render() {\n    return (\n      <>\n        <Searchbar onSubmitForm={this.handleFormSubmit} />\n        <ImagesInfo imgItem={this.state.image} />\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\n// export default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}