{"version":3,"sources":["Modal/modal.module.css","ImagesErrorView/imageErrorView.module.css","ImageGallery/imagegallery.module.css","Button/button.module.css","Loader/loader.module.css","Searchbar/Searchbar.js","error.jpg","ImagesErrorView/ImagesErrorView.js","Modal/Modal.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/Imagegallery.js","ImagesApi.js","Loader/Loader.js","Button/Button.js","ImagesInfo/ImagesInfo.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","state","image","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmitForm","toast","className","onSubmit","this","type","name","onChange","autocomplete","autofocus","placeholder","Component","ImagesErrorView","message","s","error","src","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","console","log","window","addEventListener","removeEventListener","alt","createPortal","Overlay","onClick","largeImage","ImageGalleryItem","showModal","toggleModal","largeImageUrl","ImageGallery","images","map","webformatURL","tags","largeImageURL","id","api","fetchImages","page","fetch","then","response","ok","json","Promise","reject","Error","ImagePendingView","loader","color","height","width","Button","scrollPageOnBtnMore","scroll","scrollToBottom","ImagesInfo","status","fetchImageGallery","nextImg","imgItem","nextPage","Api","newImages","total","prevState","hits","catch","onClickLoadMoreBtn","prevProps","prevImg","prevPage","App","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e214fce1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1tWBx\",\"largeImage\":\"modal_largeImage__Bs-AV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"imageErrorView_error__334m8\",\"defaultNotifeImages\":\"imageErrorView_defaultNotifeImages__3oKLL\",\"imageClass\":\"imageErrorView_imageClass__2yInf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imagegallery_ImageGallery__ZhciX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__coi8d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__39NA3\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    image: '',\r\n  };\r\n  //получение значения input\r\n  handleNameChange = event => {\r\n    this.setState({ image: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  //отправка значения из формы\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.image.trim() === '') {\r\n      toast('Please enter the query !');\r\n      return;\r\n    }\r\n    // this.props.onSubmit - вызывает props из App под именем onSubmit\r\n    this.props.onSubmitForm(this.state.image);\r\n    this.setState({ image: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            name=\"imageName\"\r\n            value={this.state.image}\r\n            onChange={this.handleNameChange}\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","export default __webpack_public_path__ + \"static/media/error.db3241d5.jpg\";","import error from \"../error.jpg\";\r\nimport s from \"../ImagesErrorView/imageErrorView.module.css\";\r\n\r\nexport default function ImagesErrorView({ message }) {\r\n  return (\r\n    <div>\r\n      <img className={s.error} src={error} />\r\n\r\n      <p>No such image finded...</p>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from '../Modal/modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    console.log('Modal componentDidMount');\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    console.log('Modal componentWillUnmount');\r\n\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          <img className={s.largeImage} src={src} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport Modal from '../Modal/Modal';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    const { src, alt, largeImageUrl } = this.props;\r\n\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={src}\r\n          alt={alt}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={this.toggleModal}\r\n        />\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal} src={largeImageUrl} alt={alt} />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n// export default function ImageGalleryItem({\r\n//   image: { id, webformatURL, largeImageURL },\r\n// }) {\r\n//   return (\r\n//     <li className=\"ImageGalleryItem\">\r\n//       <img\r\n//         src={this.props.webformatURL}\r\n//         alt=\"\"\r\n//         className=\"ImageGalleryItem-image\"\r\n//       />\r\n//     </li>\r\n//   );\r\n// }\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from '../ImageGallery/imagegallery.module.css';\r\n\r\nfunction ImageGallery({ images }) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          src={image.webformatURL}\r\n          alt={image.tags}\r\n          largeImageUrl={image.largeImageURL}\r\n          key={image.id}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","function fetchImages(name, page) {\r\n  const KEY = '19076419-9578a5b9e86945eec97e7243e';\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error('Error'));\r\n  });\r\n}\r\n\r\nconst api = { fetchImages };\r\n\r\nexport default api;\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"../Loader/loader.module.css\";\r\n\r\nexport default function ImagePendingView() {\r\n  return (\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"Grid\"\r\n      color=\"#00BFFF\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n  );\r\n}\r\n","import { Component } from \"react\";\r\nimport { animateScroll as scroll } from \"react-scroll\";\r\nimport s from \"../Button/button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nexport default class Button extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  scrollPageOnBtnMore = () => {\r\n    this.props.onClick();\r\n    scroll.scrollToBottom();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        onClick={this.scrollPageOnBtnMore}\r\n        className={s.Button}\r\n        type=\"button\"\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImagesErrorView from \"../ImagesErrorView/ImagesErrorView\";\r\nimport ImageGallery from \"../ImageGallery/Imagegallery\";\r\nimport Api from \"../ImagesApi\";\r\nimport Button from \"../Button/Button\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport s from \"../ImagesInfo/image.modal.css\";\r\n\r\nexport default class ImagesInfo extends Component {\r\n  state = {\r\n    images: [],\r\n    status: \"idle\",\r\n    error: null,\r\n    page: 1,\r\n  };\r\n\r\n  static propTypes = {\r\n    imgItem: PropTypes.string,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevImg = prevProps.imgItem;\r\n    const nextImg = this.props.imgItem;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n    console.log(nextPage);\r\n\r\n    if (prevImg !== nextImg) {\r\n      ///// обнуляет массив фото и сбрасывает страницу\r\n      this.setState({ page: 1, images: [] });\r\n    }\r\n\r\n    if (prevImg !== nextImg || prevPage !== nextPage) {\r\n      // this.setState({ status: \"pending\" });\r\n      this.fetchImageGallery();\r\n      // this.setState({ status: \"resolved\" });\r\n    }\r\n  }\r\n\r\n  fetchImageGallery = () => {\r\n    const nextImg = this.props.imgItem;\r\n    const nextPage = this.state.page;\r\n    Api.fetchImages(nextImg, nextPage)\r\n      // .then((images) => this.setState({ images, status: \"resolved\" }))\r\n      .then((newImages) => {\r\n        if (newImages.total !== 0) {\r\n          this.setState((prevState) => ({\r\n            images: [...prevState.images, ...newImages.hits],\r\n            status: \"resolved\",\r\n          }));\r\n          return;\r\n        }\r\n        return Promise.reject(new Error(\"Invalid request\"));\r\n      })\r\n      .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n  };\r\n\r\n  onClickLoadMoreBtn = () => {\r\n    // console.log('больше');\r\n\r\n    this.setState((prevState) => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { error, status, images } = this.state;\r\n    if (status === \"idle\") {\r\n      return <p>Please, enter the search query</p>;\r\n    }\r\n    if (status === \"pending\") {\r\n      return <Loader />;\r\n    }\r\n    if (status === \"rejected\") {\r\n      return <ImagesErrorView message={error.message} />;\r\n    }\r\n    if (status === \"resolved\") {\r\n      return (\r\n        <>\r\n          <ImageGallery images={images} />\r\n          <Button onClick={this.onClickLoadMoreBtn} />\r\n        </>\r\n      );\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport './App.css';\nimport './index.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImagesInfo from './ImagesInfo/ImagesInfo';\n// import ImageGallery from './ImageGallery/Imagegallery';\n\nexport default class App extends Component {\n  state = {\n    image: '',\n  };\n  handleFormSubmit = image => {\n    this.setState({ image });\n  };\n  render() {\n    return (\n      <>\n        <Searchbar onSubmitForm={this.handleFormSubmit} />\n        <ImagesInfo imgItem={this.state.image} />\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\n// export default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}